---
title: "Ligands analysis"
author: "frontallobotomy77"
date: "`r format(Sys.time(), '%d %b %Y')`"
output: 
  html_document:
    fig_caption: yes
    highlight: espresso
    keep_md: yes
    number_sections: yes
    theme: spacelab
    toc: yes
    toc_float:
      collapsed: yes
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
chooseCRANmirror(graphics=TRUE, ind=1)
```

# Summary 

# Data analysis
## Libraries used in report 
 - dplyr
 - ggplot2
 - DT
 
```{r libraries initialization, include=FALSE}
if (!require('dplyr')){ 
  install.packages('dplyr')}
library(dplyr)

if (!require('ggplot2')){ 
  install.packages('ggplot2')}
library(ggplot2)

if (!require('DT')){ 
  install.packages('DT')}
library(DT)
```
 

## Initialization 

```{r initialization, include=FALSE}
set.seed(7)
prettyTable <- function(table_df, round_columns=numeric(), round_digits=2) {
    DT::datatable(table_df, style="bootstrap", filter = "top", rownames = FALSE, extensions = "Buttons", options = list(dom = 'Bfrtip', 
                  buttons = c('copy', 'csv', 'excel', 'pdf', 'print'))) %>%
    formatRound(round_columns, round_digits)
}
```

# Data loading

```{r data loading, cache=TRUE, echo=FALSE}
#Start the clock!
ptm <- proc.time()

sample <- read.table(file='data/all_summary.csv', header = TRUE, nrows = 1000, sep = ';', stringsAsFactors = FALSE, quote = "'", dec = '.')
classes <- sapply(sample, class)
classes <- ifelse(classes == 'integer', 'numeric', classes)
classes['res_name'] <- 'factor'
classes['res_id'] <- 'character'
tryout <- read.table(file='data/all_summary.csv', header = TRUE, nrows = 50000, sep = ';', colClasses = classes, comment.char = "", 
                     stringsAsFactors = FALSE, strip.white = TRUE, na.strings = 'NA', quote = "'", dec = '.')

# Stop the clock
proc.time() - ptm
```

# Data cleansing
```{r data cleansing}
unwanted <- c('UNK', 'UNX', 'UNL', 'DUM', 'N', 'BLOB', 'ALA', 'ARG', 'ASN', 'ASP', 'CYS', 'GLN', 'GLU', 'GLY', 'HIS', 'ILE', 'LEU', 'LYS', 'MET', 'MSE', 'PHE', 'PRO', 'SEC', 'SER', 'THR', 'TRP', 'TYR', 'VAL', 'DA', 'DG', 'DT', 'DC', 'DU', 'A', 'G', 'T', 'C', 'U', 'HOH', 'H20', 'WAT')
tryout_clean <- tryout %>% filter(!res_name %in% unwanted)  
print(paste0('tryout size: ', nrow(tryout)))
print(paste0('clean size: ', nrow(tryout_clean)))
print(paste0('delta: ', nrow(tryout)-nrow(tryout_clean)))
```

# Missing data processing
ter

# Basic data set specification

# Significant classes extracting

# Correlation between variables

# Cardinality of classes

# Atoms and electrons distribution diagram

# Classes with the greatest inconsistency in selected attributes

# Value distribution chart of selected attributes

# Interactive diagram

# Regression

# Classification
